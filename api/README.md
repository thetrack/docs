# REST API

---

Thetrack API организовано в стиле REST. В API предусмотрены предсказуемые, ориентированные на ресурсы URL-адреса и использованы HTTP коды ответов для ошибок в запросах к API.

Мы используем стандарт HTTP/1.1 и его возможности такие как HTTP аутентификация и HTTP методы, которые будут понятны всем существующими HTTP-клиентами поддерживающим протокол HTTP/1.1.

Все ответы API возвращаются в формате JSON, в том числе, и ошибки.

## Аутентификация и авторизация

После регистрации вам будут выданы два ключа **публичный ключ** вида _pk\_UUID и _**секретный ключ **вида sk\_UUID. Эти ключи используются для дальнейшей аутентификации и авторизации в Thetrack. **Публичный ключ** используется в мобильных SDK и в клиентском коде. Права доступа по этому ключу не позволяют выполнять некоторые действия, например просматривать списки всех ваших задач или водителей. **Секретный ключ **используется для серверной интеграции и обладает неограниченными правами.

> **Внимание!!!**
>
> Нельзя использовать **секретный ключ** в общедоступном коде. Чтобы злоумышленники не могли прочитать и воспользоваться вашим ключом для доступа к вашим ресурсам.

Аутентификация в API происходит через HTTP Token Auth. Используйте ваши ключи API в качестве токена.

Все запросы к API должны производиться через протокол HTTPS. Вызовы через обычный протокол HTTP будут игнорироваться.

Для любых запросов вам необходима аутентификация.

```bash
# Вам нужно подставить корректный заголовок Authorization.
curl https://api.thetrack.io/v1/drivers/ \
   -H "Authorization: token sk_token" \
   -H "Content-Type: application/json"
```

## Формат запроса и ответа

Thetrack API поддерживает формат JSON, поэтому во время запроса убедитесь в корректности заголовка **Content-Type.**

```bash
curl https://api.thetrack.io/v1/drivers/ \
   -H "Authorization: token sk_token" \
   -H "Content-Type: application/json" \
   -X POST \
   -d @body.json
```



